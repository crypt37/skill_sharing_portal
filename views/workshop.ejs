<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
          crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css"/>
    <link rel="stylesheet" href="css/styles2.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pikaday/pikaday.js"></script>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/pikaday/css/pikaday.css"/>
</head>

<body>


<form action="/workshop" method="POST" class="requires-validation">

    <h1>Sign Up</h1>

    <fieldset>
        <legend><span class="number">1</span>  worshop  info</legend>
        <label for="Venue">Venue:</label>
        <input type="text" name="Venue" placeholder="Venue" required>
        <div ><label for="birth_date"> Worshop Date: </label>

            <input type="text"  name="dob" id="birth_date" required /></div>




        <label for="name">A short descripttion about worshop  (max 50 ):</label>

        <input type="text" id="About" name="About" required
               minlength="1" maxlength="50" size="10">

    </fieldset>
  <button><a href="/tin:Learners">Learners</a> </button>

    <button type="submit">Sign Up</button>

</form>
<script>
    function checkDuplicates(){
        var codes = $('select[class^="selectpicker"]').map(function(element){
            window.alert;
            return element.value;
        })
        var duplicates = codes.some(function(element, index, self){
            return element && codes.indexOf(element) !== index;
        });
        return duplicates;
    }

    function flagDuplicates(){
        var inputs = $('select[class^="selectpicker"]').toArray();
        var codes = inputs.map(function(element){
            return element.value;
        });
        var duplicates = 0;
        codes.forEach(function(element, index){
            var duplicate = element && codes.indexOf(element) !== index;
            if(duplicate){
                alert(inputs[index].value+ "  is a duplicate item " );

                inputs[index].value = false;
                duplicates++
            }
        });
        return duplicates;
    }
    $('select[class^="selectpicker"]').on("change", function(){

        flagDuplicates();
    });

    function calculateAge(date)
    {
        const now = new Date();
        const diff = Math.abs(now - date );
        const age = Math.floor(diff / (1000 * 60 * 60 * 24 * 365));
        return age
    }
    const ima = new Date();
    var picker = new Pikaday({
        field: document.getElementById('birth_date') ,
        yearRange:[ima,2023],
        onSelect: function(date) {
            let age = calculateAge(date);
            document.getElementById('ages').innerHTML = "age: "+age ;
            document.getElementById("age").value = age;
        }
    });
</script>
</body>
</html>

