<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
          crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css"/>
    <link rel="stylesheet" href="css/styles2.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pikaday/pikaday.js"></script>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/pikaday/css/pikaday.css"/>
</head>

<body>
<form action="/workshop" method="POST" class="requires-validation">

    <h1><%= language %></h1>

    <fieldset>
        <legend><span class="number">1</span>  worshop  info</legend>
        <label for="Venue">Venue:</label>
        <input type="text" name="Venue" placeholder="Venue" required>

        <div ><label for="birth_date"> Worshop Date: </label>
            <div id="ages"  style=" padding-bottom: 0.3em" > </div>

            <input type="hidden" name="age" id = 'age' placeholder="age" />

            <input type="text"   name="dob" id="birth_date" required /></div>

           <input type="hidden"  id = "work_lang" name="work_lang" value="<%= language  %>"  >
        <label for="name">A short descripttion about worshop  (max 50 ):</label>

        <input type="text" id="About" name="About" required
               minlength="1" maxlength="50" size="10">



    </fieldset>

    <button type="submit">Sign Up</button>

</form>
<script>





    const now = new Date();
    function calculateAge(date)
    {

        const diff = Math.abs(now - date );
        const age = Math.floor(diff / (1000 * 60 * 60 * 24 ));
        return age+1
    }

    var picker = new Pikaday({
        field: document.getElementById('birth_date') ,
        yearRange:[now,now+1],
        onSelect: function(date) {
            if (now-date >0){
                alert("The workshop should occour in near future ");
                document.getElementById("birth_date").value ='';
            }
            let age = calculateAge(date);
            document.getElementById('ages').innerHTML = "workshop in  : "+ age +" days " ;
            document.getElementById("age").value = age;
        }
    });
</script>
</body>
</html>

